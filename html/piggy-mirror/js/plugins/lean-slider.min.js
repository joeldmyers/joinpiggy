/*
 * Lean Slider v1.0
 * http://dev7studios.com/lean-slider
 *
 * Copyright 2012, Dev7studios
 * Free to use and abuse under the MIT license.
 * http://www.opensource.org/licenses/mit-license.php
 */
!function(e){e.fn.leanSlider=function(n){var t={pauseTime:1e4,pauseOnHover:!0,startSlide:0,directionNav:"",directionNavPrevBuilder:"",directionNavNextBuilder:"",controlNav:"",controlNavBuilder:"",prevText:"Prev",nextText:"Next",beforeChange:function(){},afterChange:function(){},afterLoad:function(){}},a=this,r={},l=e(this),i=l.children(),o=0,c=0,s=function(){if(r=e.extend({},t,n),l.addClass("lean-slider"),i.addClass("lean-slider-slide"),o=r.startSlide,(r.startSlide<0||r.startSlide>=i.length)&&(o=0),e(i[o]).addClass("current"),r.directionNav&&e(r.directionNav).length){var s=e('<a href="#" class="lean-slider-prev">'+r.prevText+"</a>"),v=e('<a href="#" class="lean-slider-next">'+r.nextText+"</a>")
r.directionNavPrevBuilder&&(s=e(r.directionNavPrevBuilder.call(this,r.prevText))),r.directionNavNextBuilder&&(v=e(r.directionNavNextBuilder.call(this,r.nextText))),s.on("click",function(e){e.preventDefault(),a.prev()}),v.on("click",function(e){e.preventDefault(),a.next()}),e(r.directionNav).append(s),e(r.directionNav).append(v)}return r.controlNav&&e(r.controlNav).length&&i.each(function(n){var t=e('<a href="#" class="lean-slider-control-nav">'+(n+1)+"</a>")
r.controlNavBuilder&&(t=e(r.controlNavBuilder.call(this,n,e(i[n])))),t.on("click",function(e){e.preventDefault(),a.show(n)}),e(r.controlNav).append(t)}),r.pauseOnHover&&r.pauseTime&&r.pauseTime>0&&l.hover(function(){clearTimeout(c)},function(){d()}),u(),d(),r.afterLoad.call(this),a},d=function(){r.pauseTime&&r.pauseTime>0&&(clearTimeout(c),c=setTimeout(function(){a.next()},r.pauseTime))},u=function(){r.controlNav&&(e(".lean-slider-control-nav",r.controlNav).removeClass("active"),e(e(".lean-slider-control-nav",r.controlNav).get(o)).addClass("active"))}
return a.prev=function(){r.beforeChange.call(this,o),o--,0>o&&(o=i.length-1),i.removeClass("current"),e(i[o]).addClass("current"),u(),d(),r.afterChange.call(this,o)},a.next=function(){r.beforeChange.call(this,o),o++,o>=i.length&&(o=0),i.removeClass("current"),e(i[o]).addClass("current"),u(),d(),r.afterChange.call(this,o)},a.show=function(n){r.beforeChange.call(this,o),o=n,0>o&&(o=i.length-1),o>=i.length&&(o=0),i.removeClass("current"),e(i[o]).addClass("current"),u(),d(),r.afterChange.call(this,o)},s()}}(jQuery)
